.\"                                      Hey, EMACS: -*- nroff -*-
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH UPGRADEDNFORMAT 8 "Mar 5, 2013"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME 
upgradednformat - Directory Server script for upgrading the DN format
.SH SYNOPSIS
upgradednformat -n backendname -a database_directory [-Z serverID] [-N] [-h]
.SH DESCRIPTION
Updates older-style DN syntaxes to RFC 4514-style DN syntaxes for migrated databases.  This is usually needed after migrating from an older version of Directory Server.  This script must be run while the server is stopped.
.SH OPTIONS
A summary of options is included below:
.TP
.B \fB\-n\fR \fIBackend Name\fR
The name of the LDBM database to reindex.  Example: userRoot
.TP
.B \fB\-a\fR \fIDatabase directory\fR
The full path to the database directory.
.TP
.B \fB\-Z\fR \fIServer Identifier\fR
The server ID of the Directory Server instance.  If there is only 
one instance on the system, this option can be skipped.
.TP
.B \fB\-N\fR
Only checks whether any DNs in the database need to be updated. 
.TP
.B \fB\-h\fR
.br
Display the usage.
.SH EXAMPLE
.TP
upgradednformat -n userRoot -a /var/lib/dirsrv/slapd-instance2/db -Z instance2
.SH DIAGNOSTICS
Exit status is zero if no errors occur.  Errors result in a 
non-zero exit status and a diagnostic message being written 
to standard error.
.SH AUTHOR
upgradednformat was written by the 389 Project.
.SH "REPORTING BUGS"
Report bugs to http://bugzilla.redhat.com.
.SH COPYRIGHT
Copyright \(co 2013 Red Hat, Inc.
